# yaml-language-server: $schema=../_scripts/support_install_variables.json

module: StreamDevice
version: 2-8-16
dbds:
  - stream-base.dbd
  - stream.dbd
libs:
  - stream

organization: https://github.com/paulscherrerinstitute

apt_developer:
  - libpcre3-dev

apt_runtime:
  - libpcre3

patch_lines:
  - path: "{{ config_linux_target }}"
    regexp: PCRE_LIB
    line: PCRE_LIB=/usr/lib/x86_64-linux-gnu
    when: "{{ is_linux }}"
    post_build: false

comment_out:
  - path: Makefile
    regexp: streamApp
  - path: Makefile
    regexp: PROGRAMS =
  - path: Makefile
    regexp: pdf

scripts:
  - path: pcre.sh
  - path: post-pcre.sh
    post_build: true
